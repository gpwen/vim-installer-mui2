# Difference in Upgraded Vim NSIS Installer

This document summarized difference in the upgraded Vim NSIS installer as
compared to the official installer.

## Difference in Installed Files

The following installed files are different from what installed by the
official installer:

* `<vim-bin-path>\install.exe` and `<vim-bin-path>\uninstal.exe`

  These files are no longer installed by the upgraded installer.

* `<vim-bin-path>\gvimext.dll`

  This file has been split into two files with the upgraded installer:
  `<vim-bin-path>\gvimext32.dll` for 32-bit version and
  `<vim-bin-path>\gvimext64.dll` for 64-bit version.  Please note both files
  could present on 64-bit system depending on install options.

* `<vim-bin-path>\vim-install.log`

  This install log will only be created by the upgraded installer.

* `<vim-install-root>\_vimrc`

  This file has been changed to add a few comments.  Its content is static,
  stored directly in [[this file |
  http://github.com/gpwen/vim-installer-mui2/raw/master/nsis/data/mswin_vimrc.vim]].

* `<windows-path>\*vim*.bat` and `<windows-dir>\*view.bat`

  These batch files are now generated from two templates, one for
  [[GUI version |
  http://github.com/gpwen/vim-installer-mui2/raw/master/nsis/data/gui_template.bat]]
  and one for [[console version |
  http://github.com/gpwen/vim-installer-mui2/raw/master/nsis/data/cli_template.bat]].
  The content of these batch files are modified to make it suitable to be
  generated from templates.  It should function the same as that generated by
  the official installer.

## Difference in Windows Registry Changes

* More values will be added to Vim uninstall key by the upgraded installer,
  such as `DisplayVersion`, `NoModify`, `NoRepair`, `HelpLink` _etc._

* gVim will be registered with "Open With ..." context menu of more file
  extensions with the upgraded installer: `.html`

* The upgraded uninstaller will remove `.vim` file extension if that key is
  empty.  This file extension should be specific to Vim.
